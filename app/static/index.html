<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Semanttuli</title>
  <script src="assets/js/secretWordsEncoded.js?2"></script>
  <script src="assets/js/clipboard.js"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-38KWPRTGPR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-38KWPRTGPR');
  </script>

  <link rel="stylesheet" href="assets/styles.css">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="assets/android-chrome-512x512.png">
  <link rel="manifest" href="manifest.json">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Purple+Purse&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">

  <!--

    Copyright (c) 2022, Ilmari Kylliäinen <kylliainenilmari@gmail.com>

    This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 3.

    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along with this program. If not, see <https://www.gnu.org/licenses/>.

    The code is based on the source code of Semantle by David Turner.
-->
</head>

<body>
  <div class="application-content">
    <div class="cont auto">
      <script src="assets/js/semanttuli.js" type="module"></script>
      <header>
        <h2 class="main-title">Semanttuli</h2>
        <nav id="menu">
          <button class="nav-button" id="rules-button" aria-label="Rules">
            <svg class="navmenu-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 18 18"
              fill="currentColor">
              <path fill-rule="evenodd"
                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                clip-rule="evenodd" />
            </svg>
          </button>
          <button class="nav-button" id="theme-button" aria-label="Rules">
            <svg class="navmenu-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 18 18"
              fill="currentColor">
              <path id="icon-path"
                d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" />
            </svg>
          </button>

        </nav>
      </header>
      <div class="dialog-underlay" id="rules-underlay">
        <div class="dialog" id="rules" aria-labelledby="rules-heading" aria-modal="true" role="dialog">
          <button class="dialog-close" id="rules-close" aria-label="Close">&times;</button>
          <div class="dialog-content" id="rules-content">
            <h2 id="rules-heading">Semanttuli &#8212; Selvitä salainen sana</h3>

              <p>
                Pelin idea on arvata päivän salainen sana käyttämällä semanttisen samankaltaisuuden pisteitä vihjeinä.
                Peli määrittelee jokaiselle arvauksellesi samankaltaisuuspisteet, jotka ovat välillä -100 ja 100. Mitä
                lähempänä pisteet ovat 100:a, sitä samankaltaisempi arvaamasi sana on semanttisesti salaisen sanan
                kanssa. Semanttisella samankaltaisuudella tarkoitetaan tässä pelissä sitä, että sanat esiintyvät
                samanlaisissa konteksteissa. Kirjoitusasulla ei siis välttämättä ole mitään tekemistä semanttisen
                samankaltaisuuden kanssa.
              </p>
              <p>
                Kaikki salaiset sanat ovat perusmuodossa, alkavat pienellä kirjaimella ja ne koostuvat vain yhdestä
                sanasta. Salaiset sanat voivat olla substantiiveja, adjektiiveja, verbejä tai adverbeja, mutta voit
                syöttää arvauksissasi minkä tahansa sanaluokan sanoja. Taulukon "Joko polttaa?"-sarake näyttää, kuinka
                lähellä arvauksesi on – arvauksen ollessa tuhannen lähimmän sanan joukossa luku ja vihreä palkki
                kertovat, kuinka lähellä olet. Mitä suurempia ne ovat, sitä lähempänä olet.
              </p>
              <p>
                Tarvitset luultavasti kymmeniä yrityksiä löytääksesi salaisen sanan. Jos jäät jumiin, voit myös
                käyttää taulukon alta löytyvää vinkkipainiketta. Voit käyttää enintään 15 vinkkiä yhden pelin aikana.
                Salainen sana vaihtuu joka päivä klo 0:00 Suomen aikaa.
                <!-- (tai <span id="localtime"></span>) anna olla toistaiseksi tässä -->
              </p>

              <p>Semanttuli pohjautuu <a target="_blank" rel="noopener noreferrer"
                  href="https://semantle.com/">Semantleen</a>, alkuperäiseen englanninkieliseen versioon, jonka on
                luonut David Turner.
              </p>

              <hr />

              <p>Semanttuli-sovellus on nyt myös ladattavissa Android-laitteille <a target="_blank"
                rel="noopener noreferrer"
                href="https://play.google.com/store/apps/details?id=com.herokuapp.semanttuli.twa">Google Play
                Kaupasta</a>!
              </p>

              <hr />

              <h3>Kysymyksiä ja vastauksia</h3>

              <div class="faq-cont">
                <button class="accordion">Miten samankaltaisuus lasketaan?</button>
                <div class="panel">
                  <p>
                    Sanojen semanttisen samankaltaisuuden laskemiseen käytetään ns. sanavektoreita (tunnetaan myös
                    sanaupotteina). Sanavektorit ovat
                    keino esittää sanojen merkityksiä numeraalisessa muodossa. Ne on luotu hyödyntämällä
                    Word2vec-algoritmia ja raakaa tekstidataa. Lisää tietoa Word2vecistä löydät esimerkiksi
                    <a target="_blank" rel="noopener noreferrer"
                      href="https://towardsdatascience.com/word2vec-explained-49c52b4ccb71">täältä</a>. Kahden sanan
                    samankaltaisuus saadaan laskemalla niiden sanavektorien välinen kosinisamankaltaisuus (engl. <i><a
                        target="_blank" rel="noopener noreferrer"
                        href="https://en.wikipedia.org/wiki/Cosine_similarity">cosine similarity</a></i>).
                  </p>
                </div>

                <button class="accordion">Millaisella datalla sanavektorit on luotu?</button>
                <div class="panel">
                  <p> Semanttuli käyttää <a target="_blank" rel="noopener noreferrer"
                      href="https://turkunlp.org/">TurkuNLP</a>-tutkimusryhmän luomia sanavektoreita.
                    Word2vec-malli
                    on nimeltään <a target="_blank" rel="noopener noreferrer"
                      href="http://dl.turkunlp.org/finnish-embeddings/"><tt>finnish_s24_skgram_lemmas.bin</tt></a>.
                    Sanavektorit ovat 300-ulotteisia ja ne on koulutettu Suomi24-verkkoyhteisöstä peräisin olevalla
                    datalla. Sanat on lemmatisoitu (eli muutettu ns. perusmuotoon), minkä takia esimerkiksi sanalle
                    "nukun" ei löydy sanavektoria, eikä se täten voi olla salainen sana.
                  </p>
                </div>

                <button class="accordion">Mikä oli eilisen sana?</button>
                <div class="panel">
                  <p>Eilisen sana oli <span id="yesterday"></span>. Sitä lähimpänä olivat <span
                      id="nearbyYesterday"></span></p>
                </div>

                <button class="accordion">Miten salaiset sanat on valittu?</button>
                <div class="panel">
                  <p>Otin 5000 yleisintä sanavektorien harjoitusdatassa esiintynyttä sanaa, sekoitin ne ja poistin
                    kaikki, jotka koostuivat enemmän kuin yhdestä sanasta tai kuuluivat väärään sanaluokkaan. Myös
                    joitakin kyseenalaisia sanoja on siivottu pois.</p>
                </div>

                <button class="accordion">Voinko järjestää arvaukseni eri tavalla?</button>
                <div class="panel">
                  <p>Kyllä. Klikkaamalla ensimmäisen sarakkeen yläosassa olevaa "#"-merkkiä, saat arvaukset siihen
                    järjestyksen, missä olet syöttänyt ne. Klikkaamalla sitä uudestaan saat käänteisen järjestyksen.
                    "Arvaus"-sanaa klikkaamalla saat arvaukset aakkosjärjestykseen. Uuden arvauksen syöttäessäsi
                    arvaukset järjestetään selkeyden vuoksi taas samankaltaisuuden mukaan.
                  </p>
                </div>

                <button class="accordion">Voinko pelata enemmän kuin yhden pelin päivässä tai vanhoja pelejä?</button>
                <div class="panel">
                  <p>Et.</p>
                </div>

                <button class="accordion">Voinko pelata muilla kielillä?</button>
                <div class="panel">
                  <p>
                    Kyllä, ainakin <a target="_blank" rel="noopener noreferrer"
                      href="https://semantle.com/">englanniksi</a>, <a target="_blank" rel="noopener noreferrer"
                      href="https://swemantle.riddle.nu/">ruotsiksi</a>, <a target="_blank" rel="noopener noreferrer"
                      href="https://semantle-he.herokuapp.com/">hepreaksi</a>, <a target="_blank"
                      rel="noopener noreferrer" href="http://semantle-es.cgk.cl/">espanjaksi</a>, <a target="_blank"
                      rel="noopener noreferrer" href="https://contexto.me/">portugaliksi</a>, <a target="_blank"
                      rel="noopener noreferrer" href="https://cemantix.herokuapp.com/">ranskaksi</a>, <a target="_blank"
                      rel="noopener noreferrer" href="http://semantlich.johannesgaetjen.de/">saksaksi</a> (<a
                      target="_blank" rel="noopener noreferrer" href="https://semantel.tarphos.de/">toinen versio</a>),
                    <a target="_blank" rel="noopener noreferrer" href="https://semantle.ozanalpay.com/">turkiksi</a>, <a
                      target="_blank" rel="noopener noreferrer"
                      href="https://kcl.somecrap.ru/semantle.today/">venäjäksi</a>, <a target="_blank"
                      rel="noopener noreferrer" href="https://semantle.be/">hollanniksi</a> ja <a target="_blank"
                      rel="noopener noreferrer" href="https://semantle-ko.newsjel.ly/">koreaksi</a>.
                  </p>
                </div>

                <button class="accordion">Lähdekoodi?</button>
                <div class="panel">
                  <p><a target="_blank" rel="noopener noreferrer"
                      href="https://github.com/ilmarikyl/semanttuli">Täällä</a>. Semanttulin koodin pohjana on käytetty
                    <a target="_blank" rel="noopener noreferrer" href="https://semantle.com/">Semantlen</a> vanhemman
                    version lähdekoodia.
                    <hr />
                  </p>
                </div>

                <script>
                  var acc = document.getElementsByClassName("accordion");
                  var i;

                  for (i = 0; i < acc.length; i++) {
                    acc[i].addEventListener("click", function () {
                      this.classList.toggle("active");
                      var panel = this.nextElementSibling;
                      if (panel.style.maxHeight) {
                        panel.style.maxHeight = null;
                      } else {
                        panel.style.maxHeight = panel.scrollHeight + "px";
                      }
                    });
                  }
                </script>
              </div>
              <p><a href="/yksityisyyskaytanto">Yksityisyyskäytäntö</a></p>

          </div>
        </div>
      </div>
      <p class="similarity-story" id="similarity-story"> </p>
      <div id="error" aria-live="assertive"></div>
      <form id="form" autocorrect="off" autocapitalize="none" autocomplete="off">
        <div id="guess-wrapper">
          <input placeholder="Kirjoita arvaus" autocorrect="off" autocapitalize="none" autocomplete="off" type="text"
            id="guess">
          <input type="submit" value="Arvaa" id="guess-btn">
        </div>
      </form>
      <div id="response" aria-live="assertive"></div>
      <div style="display:none">
        <input type="text" id="share" />
      </div>
      <table class="guess-table" aria-live="polite" id="guesses" role="log">
      </table>


      <div class="action-btns"><input type="button" value="Luovuta" id="give-up-btn">
        <input type="button" value="Vinkki" id="hint-btn">
      </div>

      <div class="dialog-underlay" id="settings-underlay">
        <div class="dialog" id="settings" aria-labelledby="settings-heading" aria-modal="true" role="dialog">
          <button class="dialog-close" id="settings-close" aria-label="Close">&times;</button>
          <div class="dialog-content" id="settings-content">
            <div>
              <input type="checkbox" name="dark-mode" value="dark-mode" id="dark-mode" />
              <label for="dark-mode">Tumma teema</label>
            </div>
            <div>
              <input type="checkbox" name="lower" value="lower" id="lower" />
              <label for="lower">Treat all input as lowercase</label> (<a id="capitalized-link"
                href="#capitalized-faq">katso UKK</a>)
            </div>
          </div>
        </div>
      </div>
      <template id="x-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd"
            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
            clip-rule="evenodd" />
        </svg>
      </template>
    </div>
    <footer>
      <div>© <a target="_blank" rel="noopener noreferrer" href=" https://github.com/ilmarikyl/semanttuli">Ilmari
          Kylliäinen</a>. Android-sovellus ladattavissa <a target="_blank" rel="noopener noreferrer"
          href="https://play.google.com/store/apps/details?id=com.herokuapp.semanttuli.twa">Play
          Kaupasta</a>.
      </div>
    </footer>
  </div>

  <script>
    // Check if browser supports service workers
    if (navigator.serviceWorker) {
      console.log("Service Worker Supported");

      // Start registration process on page load
      window.addEventListener("load", () => {
        navigator.serviceWorker

          // The register function takes as argument
          // the file path to the worker's file
          .register("./sw.js")

          // Gives us registration object
          .then(reg => console.log("Service Worker Registered"))
          .catch(swErr => console.log(
            `Service Worker Error: ${swErr}}`));
      });
    }
  </script>

</body>

</html>